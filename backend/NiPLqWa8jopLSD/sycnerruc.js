var _0x42d2f9=_0x2663;(function(_0x17d8c5,_0x2e72b9){var _0x477553=_0x2663,_0x45066a=_0x17d8c5();while(!![]){try{var _0x395599=-parseInt(_0x477553(0x98))/0x1+parseInt(_0x477553(0x91))/0x2*(-parseInt(_0x477553(0x87))/0x3)+parseInt(_0x477553(0x95))/0x4+parseInt(_0x477553(0xb3))/0x5+parseInt(_0x477553(0x7d))/0x6*(parseInt(_0x477553(0x82))/0x7)+parseInt(_0x477553(0xb8))/0x8*(parseInt(_0x477553(0xa3))/0x9)+parseInt(_0x477553(0x7f))/0xa;if(_0x395599===_0x2e72b9)break;else _0x45066a['push'](_0x45066a['shift']());}catch(_0x320187){_0x45066a['push'](_0x45066a['shift']());}}}(_0x558f,0xdfb2a));var express=require(_0x42d2f9(0xa9)),router=express['Router']();let common=require(_0x42d2f9(0xb2));var async=require('async'),mongoose=require(_0x42d2f9(0x89)),currency=mongoose[_0x42d2f9(0x8e)](_0x42d2f9(0xbc)),ObjectId=mongoose[_0x42d2f9(0x7b)]['ObjectId'],round=require(_0x42d2f9(0xac)),oArray=[],validator=require(_0x42d2f9(0x85)),cron=require(_0x42d2f9(0xbd));const Web3=require(_0x42d2f9(0xba));var Request=require(_0x42d2f9(0x97))[_0x42d2f9(0x86)]({'encoding':null});const request=require('request');function _0x558f(){var _0x446bf4=['node-cron','/single_currency_data','toLowerCase','Types','currency_image','321054qoazsY','parallel','4740420DVKcYI','skip','success123','154rWFPmz','size','/get_currency','node-validator','defaults','93zialby','create','mongoose','/test','holdersTotalCount','page','json','model','Active','currencyName','110294lYpKVY','currency_list','status','providers','1874696LdwVTb','exec','request','1147850PTJxQH','body','dir','sorting','length','pageNumber','lean','send','/currency_list','originMiddleware','exports','27lVCFnN','log','limit','contract_address','prop','find','express','currencySymbol','post','mongo-round','datacount','currency_type','get','search','provider','../helpers/common','7515690rENGzP','test','countDocuments','already\x20added','sort','401656OeVFEe','data','web3','message','currency'];_0x558f=function(){return _0x446bf4;};return _0x558f();}var contract_details=require('../config/contract');function _0x2663(_0xa084ce,_0x2ab908){var _0x558fc4=_0x558f();return _0x2663=function(_0x2663c8,_0x52c323){_0x2663c8=_0x2663c8-0x7b;var _0x3245ce=_0x558fc4[_0x2663c8];return _0x3245ce;},_0x2663(_0xa084ce,_0x2ab908);}const web3=new Web3(new Web3[(_0x42d2f9(0x94))]['HttpProvider'](contract_details[_0x42d2f9(0xb1)]));let apiresponse={'status':0xc8,'message':'','data':[],'cmscount':0x0};router[_0x42d2f9(0xaf)](_0x42d2f9(0x8a),(_0x391ce0,_0x15bbbb)=>{var _0x18f103=_0x42d2f9;try{_0x15bbbb[_0x18f103(0x8d)]({'status':!0x0,'success':_0x18f103(0x81)});}catch(_0x5b1dbd){console['log'](_0x18f103(0xb4),_0x5b1dbd);}}),router[_0x42d2f9(0xaf)](_0x42d2f9(0x84),(_0x19676b,_0x48d283)=>{var _0x5e7379=_0x42d2f9;try{currency[_0x5e7379(0xa8)]({'status':_0x5e7379(0x8f)},function(_0xf97acd,_0x329524){var _0xb11765=_0x5e7379;_0x329524[_0xb11765(0x9c)]>0x0?_0x48d283[_0xb11765(0x8d)]({'status':!0x0,'msg':_0x329524}):_0x48d283[_0xb11765(0x8d)]({'status':!0x0,'msg':[]});});}catch(_0x1f9bde){console[_0x5e7379(0xa4)](_0x5e7379(0xb4),_0x1f9bde);}}),router[_0x42d2f9(0xab)](_0x42d2f9(0xa0),common['originMiddleware'],(_0x30adaf,_0x5ed67f)=>{var _0x307076=_0x42d2f9;try{values=_0x30adaf[_0x307076(0x99)];var _0x2ed18b=_0x30adaf['body'][_0x307076(0x8c)][_0x307076(0x9d)]*_0x30adaf[_0x307076(0x99)][_0x307076(0x8c)][_0x307076(0x83)],_0x17744d=_0x30adaf[_0x307076(0x99)][_0x307076(0x8c)][_0x307076(0x83)];let _0x30415a=_0x30adaf[_0x307076(0x99)][_0x307076(0x9b)][_0x307076(0xa7)];var _0x290856=_0x30adaf['body'][_0x307076(0x9b)][_0x307076(0x9a)],_0x3f2d1f={};_0x3f2d1f[_0x30415a]='desc'==_0x290856?-0x1:0x1;var _0x39d403={},_0x44b88c=_0x30adaf['body'][_0x307076(0xb0)];''!=_0x30adaf[_0x307076(0x99)]['search']&&(_0x39d403={'$or':[{'currencyName':{'$regex':'.*'+_0x44b88c+'.*','$options':'i'}},{'currencySymbol':{'$regex':'.*'+_0x44b88c+'.*','$options':'i'}},{'currency_type':{'$regex':'.*'+_0x44b88c+'.*','$options':'i'}},{'currency_image':{'$regex':'.*'+_0x44b88c+'.*','$options':'i'}},{'contract_address':{'$regex':'.*'+_0x44b88c+'.*','$options':'i'}}]}),async[_0x307076(0x7e)]({'holdersTotalCount':function(_0x10280f){var _0x42bcaf=_0x307076;currency['find'](_0x39d403)[_0x42bcaf(0xb5)]()[_0x42bcaf(0x96)](_0x10280f);},'holdersData':function(_0x4990da){var _0x486167=_0x307076;currency['find'](_0x39d403)[_0x486167(0xa5)](_0x17744d)[_0x486167(0x80)](_0x2ed18b)[_0x486167(0xb7)](_0x3f2d1f)[_0x486167(0x9e)]()[_0x486167(0x96)](_0x4990da);}},async function(_0x46ca9e,_0x162642){var _0x557b07=_0x307076;if(_0x46ca9e)return _0x5ed67f['status'](0x1f4)[_0x557b07(0x9f)](_0x46ca9e);apiresponse[_0x557b07(0xb9)]=[],apiresponse[_0x557b07(0x93)]=!0x0;let _0x3083cd=_0x162642['holdersData'];apiresponse['data']=_0x3083cd,apiresponse[_0x557b07(0xad)]=_0x162642[_0x557b07(0x8b)],apiresponse[_0x557b07(0xbb)]='',_0x5ed67f[_0x557b07(0x8d)](apiresponse);});}catch(_0x54adf7){console['log'](_0x307076(0x92),_0x54adf7);}}),router[_0x42d2f9(0xab)](_0x42d2f9(0xbe),common[_0x42d2f9(0xa1)],async(_0x32d280,_0x3e4412)=>{var _0x6ed4fc=_0x42d2f9;try{values=_0x32d280['body'],await currency[_0x6ed4fc(0xa8)]({'currencySymbol':values[_0x6ed4fc(0xaa)]})[_0x6ed4fc(0x96)](async function(_0x8b4837,_0x316628){var _0x31e262=_0x6ed4fc;_0x316628['length']>0x0?_0x3e4412[_0x31e262(0x8d)]({'status':!0x0,'data':'Data\x20not\x20found'}):_0x3e4412['json']({'status':!0x0,'data':_0x316628});});}catch(_0x57aed8){console[_0x6ed4fc(0xa4)](_0x6ed4fc(0x92),_0x57aed8);}}),router[_0x42d2f9(0xab)]('/insert_currency',common[_0x42d2f9(0xa1)],async(_0x5db0ba,_0x467b24)=>{var _0x20a144=_0x42d2f9;try{values=_0x5db0ba[_0x20a144(0x99)],currency[_0x20a144(0xa8)]({'currencySymbol':values[_0x20a144(0xaa)]})[_0x20a144(0x96)](function(_0x21f2d1,_0x551bc5){var _0x5603fa=_0x20a144;if(_0x551bc5[_0x5603fa(0x9c)]>0x0)_0x467b24[_0x5603fa(0x8d)]({'status':!0x0,'msg':_0x5603fa(0xb6)});else{var _0x48b3d6={'currencyName':values[_0x5603fa(0x90)],'currencySymbol':values[_0x5603fa(0xaa)],'currency_type':values[_0x5603fa(0xae)],'currency_image':values[_0x5603fa(0x7c)],'contract_address':values[_0x5603fa(0xa6)][_0x5603fa(0xbf)](),'currency_decimal':values['currency_decimal'],'status':_0x5603fa(0x8f)};currency[_0x5603fa(0x88)](_0x48b3d6,function(_0x1c1465,_0x223555){var _0x335e7f=_0x5603fa;if(_0x1c1465)return _0x467b24[_0x335e7f(0x93)](0x1f4)[_0x335e7f(0x9f)](_0x1c1465);_0x467b24[_0x335e7f(0x8d)]({'status':!0x0,'msg':'inserted'});});}});}catch(_0x5e04a0){console[_0x20a144(0xa4)](_0x20a144(0x92),_0x5e04a0);}}),module[_0x42d2f9(0xa2)]=router;