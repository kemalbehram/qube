var _0x52bc9f=_0x12c0;(function(_0x2f9de8,_0x56d9b3){var _0x3c7b3f=_0x12c0,_0x5a9096=_0x2f9de8();while(!![]){try{var _0xf97f9c=-parseInt(_0x3c7b3f(0xb8))/0x1+parseInt(_0x3c7b3f(0xcd))/0x2+-parseInt(_0x3c7b3f(0xbd))/0x3+-parseInt(_0x3c7b3f(0xe7))/0x4*(-parseInt(_0x3c7b3f(0xb7))/0x5)+parseInt(_0x3c7b3f(0xdf))/0x6*(-parseInt(_0x3c7b3f(0xc3))/0x7)+-parseInt(_0x3c7b3f(0xea))/0x8+parseInt(_0x3c7b3f(0xc7))/0x9;if(_0xf97f9c===_0x56d9b3)break;else _0x5a9096['push'](_0x5a9096['shift']());}catch(_0x3a6364){_0x5a9096['push'](_0x5a9096['shift']());}}}(_0xe0e4,0x65d89));function _0x12c0(_0x57824b,_0x245fcf){var _0xe0e43d=_0xe0e4();return _0x12c0=function(_0x12c0c5,_0x17690a){_0x12c0c5=_0x12c0c5-0xb6;var _0x40f666=_0xe0e43d[_0x12c0c5];return _0x40f666;},_0x12c0(_0x57824b,_0x245fcf);}function _0xe0e4(){var _0x52ee3c=['size','message','json','countDocuments','parallel','desc','page','totalCount','aggregate','get','limit','969636TStTuw','exports','status','model','Transaction\x20already\x20Exists','$fromCurrency_i','originMiddleware','sorting','156EGTZJn','Unable\x20to\x20Create\x20Exchange','txId','4857552TCjykI','$fromCurrency_address','lean','Router','data','log','106305BMWuDF','65750gSRuYf','skip','exchange','async','../helpers/common','1202244mHAKzj','/get_sw_basecurrency','/createExchange','createExchange\x20error','mongoose','pageNumber','7ciWPET','find','send','$fromCurrency','2681541AyDkCS','holderslist','getaddress','exec','findOne','post','1050662Vkqzxf','pairs','prop','Created\x20Successfully','dir','body','Active'];_0xe0e4=function(){return _0x52ee3c;};return _0xe0e4();}var express=require('express'),router=express[_0x52bc9f(0xed)]();let common=require(_0x52bc9f(0xbc));var async=require(_0x52bc9f(0xbb)),mongoose=require(_0x52bc9f(0xc1)),exchange=mongoose[_0x52bc9f(0xe2)](_0x52bc9f(0xba)),pairs=mongoose[_0x52bc9f(0xe2)](_0x52bc9f(0xce));let apiresponse={'status':0xc8,'message':'','data':[],'cmscount':0x0};router[_0x52bc9f(0xdd)](_0x52bc9f(0xbe),common['originMiddleware'],(_0x2debd6,_0x362ea3)=>{var _0x2a472b=_0x52bc9f;try{cnt={'pair_status':_0x2a472b(0xd3)},pairs[_0x2a472b(0xdc)]([{'$match':cnt},{'$group':{'_id':_0x2a472b(0xc6),'decimal':{'$first':'$fromCurrency_decimal'},'contract_address':{'$first':_0x2a472b(0xeb)},'currency_type':{'$first':'$fromCurrency_type'},'currency_image':{'$first':_0x2a472b(0xe4)}}}])[_0x2a472b(0xca)](function(_0x1e51e9,_0x253780){var _0x584e03=_0x2a472b;if(_0x1e51e9)return _0x362ea3[_0x584e03(0xe1)](0x1f4)['send'](_0x1e51e9);_0x362ea3[_0x584e03(0xd6)]({'status':!0x0,'data':_0x253780});});}catch(_0x2d61b9){console['log'](_0x2a472b(0xc9),_0x2d61b9);}}),router[_0x52bc9f(0xcc)](_0x52bc9f(0xbf),common[_0x52bc9f(0xe5)],async function(_0x1e7581,_0x278c31){var _0x115e8e=_0x52bc9f;try{let _0x2ee9d4=_0x1e7581['body'];if(await exchange[_0x115e8e(0xcb)]({'txId':_0x2ee9d4[_0x115e8e(0xe9)]})[_0x115e8e(0xec)]())_0x278c31[_0x115e8e(0xd6)]({'status':!0x1,'msg':_0x115e8e(0xe3)});else await exchange['create'](_0x2ee9d4)?_0x278c31[_0x115e8e(0xd6)]({'status':!0x0,'msg':_0x115e8e(0xd0)}):_0x278c31['json']({'status':!0x1,'msg':_0x115e8e(0xe8)});}catch(_0x34930b){console[_0x115e8e(0xb6)](_0x115e8e(0xc0),_0x34930b);}}),router[_0x52bc9f(0xcc)]('/exchangelist',async function(_0x29ee74,_0x2895ca){var _0x152d78=_0x52bc9f;try{var _0x24fb62=_0x29ee74[_0x152d78(0xd2)][_0x152d78(0xda)][_0x152d78(0xc2)]*_0x29ee74[_0x152d78(0xd2)]['page'][_0x152d78(0xd4)],_0xd73f96=_0x29ee74[_0x152d78(0xd2)][_0x152d78(0xda)]['size'];let _0x42c328=_0x29ee74['body'][_0x152d78(0xe6)][_0x152d78(0xcf)];var _0x5a80c4=_0x29ee74['body']['sorting'][_0x152d78(0xd1)],_0x1c3a7e={};_0x1c3a7e[_0x42c328]=_0x152d78(0xd9)==_0x5a80c4?-0x1:0x1;var _0x5b35e4={},_0x316f94=_0x29ee74['body']['search'];''!=_0x29ee74[_0x152d78(0xd2)]['search']&&(_0x5b35e4={'$or':[{'userAddress':{'$regex':'.*'+_0x316f94+'.*','$options':'i'}},{'pair':{'$regex':'.*'+_0x316f94+'.*','$options':'i'}},{'status':{'$regex':'.*'+_0x316f94+'.*','$options':'i'}},{'txId':{'$regex':'.*'+_0x316f94+'.*','$options':'i'}}]}),async[_0x152d78(0xd8)]({'totalCount':function(_0x3cfdc3){var _0x43616a=_0x152d78;exchange[_0x43616a(0xc4)](_0x5b35e4)[_0x43616a(0xd7)]()['exec'](_0x3cfdc3);},'exchangeData':function(_0x1e9b0b){var _0x3323cf=_0x152d78;exchange[_0x3323cf(0xc4)](_0x5b35e4)[_0x3323cf(0xde)](_0xd73f96)[_0x3323cf(0xb9)](_0x24fb62)['sort'](_0x1c3a7e)[_0x3323cf(0xca)](_0x1e9b0b);}},function(_0x425082,_0x57206f){var _0x3b7750=_0x152d78;if(_0x425082)return _0x2895ca[_0x3b7750(0xe1)](0x1f4)[_0x3b7750(0xc5)](_0x425082);apiresponse[_0x3b7750(0xee)]=[],apiresponse[_0x3b7750(0xe1)]=!0x0,apiresponse[_0x3b7750(0xee)]=_0x57206f['exchangeData'],apiresponse[_0x3b7750(0xdb)]=_0x57206f[_0x3b7750(0xdb)],apiresponse[_0x3b7750(0xd5)]='',_0x2895ca[_0x3b7750(0xd6)](apiresponse);});}catch(_0x28b296){console['log'](_0x152d78(0xc8),_0x28b296);}}),module[_0x52bc9f(0xe0)]=router;