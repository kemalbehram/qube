var _0x4cabe5=_0x4afe;function _0x1917(){var _0x18c335=['769837qJOJnY','create_pool_log\x20error','2969978ByXxBI','1006626ceBzGD','../helpers/mailhelper','exec','2181515MUmiIS','multer','25cuImVa','find','wallet-address-validator','post','609tZIyaB','Router','sitesetting','2564586ueyizs','../config/config','cloudinary','Need\x20address','Types','config','/create_pool_log','utils','sign','getaddress','node-rest-client','diskStorage','result','../helpers/common','&address=','model','24MomWId','qrcode','0x2db2e40715cdbc8e206b0c2d03783d5370bde4f25e77df75529cd51a8b5a78a4','../config/contract','express','originMiddleware','request','body','signature','length','providers','log','2OANnVx','3601940PmwiLh','16280RGpzIz','Active','get','eth','json','pair','path','/test','success','exports','aggregate','24dKypjK','defaults','async','useraddress','pool_log','soliditySha3','send','getpairdetails\x20error','create','/getbasecurrency','https://ropsten.infura.io/v3/ace26df5eee341b3ab52f89fd7f56d49','https://ropsten.etherscan.io/api?module=account&action=tokenbalance&contractaddress=','getTime','web3','/get_expair','Please\x20try\x20again\x20later','success123','HttpProvider','ObjectId'];_0x1917=function(){return _0x18c335;};return _0x1917();}(function(_0x29bbb7,_0x3ea782){var _0x2bb5a0=_0x4afe,_0x50c8ee=_0x29bbb7();while(!![]){try{var _0x3f487c=parseInt(_0x2bb5a0(0x18f))/0x1*(parseInt(_0x2bb5a0(0x16f))/0x2)+parseInt(_0x2bb5a0(0x19b))/0x3*(-parseInt(_0x2bb5a0(0x171))/0x4)+-parseInt(_0x2bb5a0(0x197))/0x5*(parseInt(_0x2bb5a0(0x192))/0x6)+parseInt(_0x2bb5a0(0x195))/0x7*(parseInt(_0x2bb5a0(0x1ae))/0x8)+parseInt(_0x2bb5a0(0x19e))/0x9+-parseInt(_0x2bb5a0(0x170))/0xa+parseInt(_0x2bb5a0(0x191))/0xb*(parseInt(_0x2bb5a0(0x17c))/0xc);if(_0x3f487c===_0x3ea782)break;else _0x50c8ee['push'](_0x50c8ee['shift']());}catch(_0x24e4b7){_0x50c8ee['push'](_0x50c8ee['shift']());}}}(_0x1917,0x7b28f));var express=require(_0x4cabe5(0x167)),router=express[_0x4cabe5(0x19c)]();let common=require(_0x4cabe5(0x1ab));var mail=require(_0x4cabe5(0x193)),cloudinary=require(_0x4cabe5(0x1a0)),multer=require(_0x4cabe5(0x196)),async=require(_0x4cabe5(0x17e)),mongoose=require('mongoose'),sitesettings=mongoose['model'](_0x4cabe5(0x19d)),pairs=mongoose['model']('pairs'),pool_log=mongoose[_0x4cabe5(0x1ad)](_0x4cabe5(0x180)),ObjectId=mongoose[_0x4cabe5(0x1a2)][_0x4cabe5(0x18e)],config=require(_0x4cabe5(0x19f)),Client=require(_0x4cabe5(0x1a8))['Client'],WAValidator=require(_0x4cabe5(0x199)),round=require('mongo-round'),oArray=[],speakeasy=require('speakeasy'),qrcode=require(_0x4cabe5(0x164)),validator=require('node-validator'),cron=require('node-cron');const path=require(_0x4cabe5(0x177)),fs=require('fs'),Web3=require(_0x4cabe5(0x189));var Request=require(_0x4cabe5(0x169))[_0x4cabe5(0x17d)]({'encoding':null});const request=require(_0x4cabe5(0x169));var contract_details=require(_0x4cabe5(0x166));const web3=new Web3(new Web3[(_0x4cabe5(0x16d))]['HttpProvider'](contract_details['provider']));function _0x4afe(_0x315eeb,_0x43a29a){var _0x1917d5=_0x1917();return _0x4afe=function(_0x4afe1b,_0x2e146b){_0x4afe1b=_0x4afe1b-0x164;var _0x4a0fa3=_0x1917d5[_0x4afe1b];return _0x4a0fa3;},_0x4afe(_0x315eeb,_0x43a29a);}let apiresponse={'status':0xc8,'message':'','data':[],'cmscount':0x0};var directoryPath=path['join'](__dirname);router[_0x4cabe5(0x173)](_0x4cabe5(0x178),(_0x258f11,_0x2790a8)=>{var _0x683f2=_0x4cabe5;try{_0x2790a8[_0x683f2(0x175)]({'status':!0x0,'success':_0x683f2(0x18c)});}catch(_0x266e97){console['log'](_0x683f2(0x1a7),_0x266e97);}}),router['get'](_0x4cabe5(0x185),common[_0x4cabe5(0x168)],(_0x1d801f,_0x351568)=>{var _0x3336fe=_0x4cabe5;try{cnt={'status':_0x3336fe(0x172)},pairs[_0x3336fe(0x17b)]([{'$group':{'_id':'$toCurrency'}}])[_0x3336fe(0x194)](function(_0x577c0d,_0x2a1960){var _0x5a2816=_0x3336fe;if(_0x577c0d)return _0x351568['status'](0x1f4)[_0x5a2816(0x182)](_0x577c0d);_0x351568[_0x5a2816(0x175)]({'status':!0x0,'data':_0x2a1960});});}catch(_0x488c3e){console[_0x3336fe(0x16e)](_0x3336fe(0x1a7),_0x488c3e);}}),router[_0x4cabe5(0x173)](_0x4cabe5(0x18a),common[_0x4cabe5(0x168)],(_0x2a28f7,_0x400ffd)=>{var _0x7bea5f=_0x4cabe5;try{_0x2a28f7[_0x7bea5f(0x16a)],pairs['find']({'pair_status':_0x7bea5f(0x172)})[_0x7bea5f(0x194)](function(_0x451d8b,_0x3f7555){_0x400ffd['json']({'status':!0x0,'data':_0x3f7555});});}catch(_0x2f3cb3){console[_0x7bea5f(0x16e)](_0x7bea5f(0x183),_0x2f3cb3);}}),router[_0x4cabe5(0x19a)](_0x4cabe5(0x1a4),common[_0x4cabe5(0x168)],(_0x2cbd4f,_0x387ba1)=>{var _0x32e5e1=_0x4cabe5;try{var _0xde2a24=_0x2cbd4f[_0x32e5e1(0x16a)];pool_log[_0x32e5e1(0x198)]({'pair':_0xde2a24[_0x32e5e1(0x176)]})[_0x32e5e1(0x194)](function(_0x1284c4,_0x27764d){var _0x16b89d=_0x32e5e1;_0x27764d[_0x16b89d(0x16c)]>0x0?_0x387ba1[_0x16b89d(0x175)]({'status':!0x1,'message':'Already\x20creadted','data':'Already\x20creadted'}):pool_log[_0x16b89d(0x184)](_0xde2a24,function(_0x18cd59,_0x1536db){var _0xea8cb7=_0x16b89d;_0x387ba1[_0xea8cb7(0x175)]({'status':!0x0,'message':_0xea8cb7(0x179),'data':'Inserted\x20successfully'});});});}catch(_0x2769cd){console['log'](_0x32e5e1(0x190),_0x2769cd);}}),router['post']('/claimfunction',common['originMiddleware'],(_0x4218c5,_0x20fa65)=>{var _0x80b5ad=_0x4cabe5;try{var _0x2dbe7b=_0x4218c5[_0x80b5ad(0x16a)];if(void 0x0===_0x2dbe7b[_0x80b5ad(0x17f)]||''==_0x2dbe7b[_0x80b5ad(0x17f)]||null==_0x2dbe7b[_0x80b5ad(0x17f)])_0x20fa65[_0x80b5ad(0x175)]({'status':!0x1,'message':_0x80b5ad(0x18b),'err_msg':_0x80b5ad(0x1a1)});else request(_0x80b5ad(0x187)+'0x076Be9a889905264221A592f6c10b3246359202d'+_0x80b5ad(0x1ac)+_0x2dbe7b[_0x80b5ad(0x17f)]+'&tag=latest',function(_0x506d98,_0x9c17ce,_0x163a42){var _0x42cb24=_0x80b5ad;let _0x4a45a1=JSON['parse'](_0x163a42);var _0x557c90=new Date()[_0x42cb24(0x188)]();let _0x4740e0=_0x2dbe7b['useraddress'],_0x12df96=_0x4a45a1[_0x42cb24(0x1aa)],_0x5b7c86=_0x557c90+0x3e8;var _0x2c044b=new Web3(new Web3[(_0x42cb24(0x16d))][(_0x42cb24(0x18d))](_0x42cb24(0x186)));const _0x50138b=_0x2c044b[_0x42cb24(0x1a5)][_0x42cb24(0x181)]('0x2f23A5DB155030c3567f3395c9A731cC67590F8A',_0x4740e0,_0x12df96,_0x5b7c86);var _0x491db0=_0x2c044b[_0x42cb24(0x174)]['accounts'][_0x42cb24(0x1a6)](_0x50138b,_0x42cb24(0x165));_0x20fa65[_0x42cb24(0x175)]({'status':!0x0,'success':_0x42cb24(0x179),'adding_time1':_0x5b7c86,'signature':_0x491db0[_0x42cb24(0x16b)],'data':_0x2dbe7b[_0x42cb24(0x17f)]});});}catch(_0x2c6e65){console['log']('claim\x20function\x20error',_0x2c6e65);}}),cloudinary[_0x4cabe5(0x1a3)]({'cloud_name':'','api_key':'','api_secret':''});var storage=multer[_0x4cabe5(0x1a9)]({'filename':function(_0x37e687,_0x396a42,_0x4af83c){_0x4af83c(null,_0x396a42['originalname']);}});module[_0x4cabe5(0x17a)]=router;